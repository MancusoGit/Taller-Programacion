programa e2p5
procesos
  proceso limpiarEsquina(ES f: numero)
  comenzar
    mientras(HayFlorEnLaEsquina)
      tomarFlor
      f:= f + 1
    mientras(HayPapelEnLaEsquina)
      tomarPapel
  fin
areas
  areaR1: AreaP(1,1,100,1)
  areaR2: AreaP(1,2,100,2)
  areaR3: AreaP(1,3,100,3)
  areaRF: AreaP(1,4,100,4)
  areaD: AreaC(50,50,50,50)
robots 
  robot recolector
  variables 
    id,cantF,avAct,caAct,aux: numero
  comenzar
    derecha
    RecibirMensaje(id,rf)
    repetir 10
      cantF:= 0
      limpiarEsquina(cantF)
      repetir 9
        mover
        limpiarEsquina(cantF)
     avAct:= PosAv
     caAct:= PosCa
     BloquearEsquina(50,50)
     Pos(50,50)
     repetir cantF
       depositarFlor
     Pos(avAct,caAct)
     LiberarEsquina(50,50)
     si(id = 1)
        EnviarMensaje(0,r2)
        EnviarMensaje(0,r3)
     sino
       si(id = 2)
         EnviarMensaje(0,r1)
         EnviarMensaje(0,r3)
       sino
          EnviarMensaje(0,r2)
          EnviarMensaje(0,r1)
      repetir 2
        RecibirMensaje(aux,*)